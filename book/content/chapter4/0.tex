
\begin{flushright}
\textit{--- main 之前发生的一切，都留在 main 之中}
\end{flushright}

对于在各种操作系统上使用 C++ 的程序员来说，应用程序的入口点（entry point）是一个需要深入理解底层架构的概念。在本章中，我们将分析一个应用程序是如何启动的，重点关注在进入用户定义的 main() 函数之前所执行的初始化代码。

在 Linux 系统下探索这一过程时，我们会分析可执行与可链接格式（Executable and Linkable Format，ELF），详细说明 execve() 系统调用如何加载并执行一个 \_start() 函数，该函数在调用 main() 之前负责准备运行时环境。我们还将探讨一些编译器提供的特定扩展，可以用来操控这一启动流程。

随后，我们将把注意力转向 Windows 平台，详细分析其可移植可执行文件格式（Portable Executable，PE）中的各个节区（sections）。

为了更深入地剖析这两个平台上的可执行文件，我们将使用一个名为 Ghidra 的工具来进行反汇编和分析。Ghidra 是一个能提供对应用程序启动底层机制深刻洞察的实用工具。

完成本章后，你将对以下内容有更深入的理解：

\begin{itemize}
\item 
Linux 和 Windows 下可执行文件的格式与进程启动机制

\item 
如何修改和控制应用程序的启动过程
\end{itemize}

\begin{myTip}{什么是 Ghidra？}
Ghidra 是由 NSA 开发的开源软件逆向工程套件,用于分析各种格式和平台的编译代。它提供了用于反编译、反汇编和调试二进制文件的工具,使用户更容易理解和分机器代码。
\end{myTip}





